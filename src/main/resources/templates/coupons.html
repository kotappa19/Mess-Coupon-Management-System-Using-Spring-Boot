<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:th="http://www.thymeleaf.org" 
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<style>
</style>
<title>View Coupons</title>
</head>
<body>
<nav class="navbar bg-dark" data-bs-theme="dark">
     <span class="navbar-brand">
     <span sec:authentication="principal.username">User</span>
     </span>
	<ul class="nav justify-content-end">
  <li class="nav-item">
   <a class="navbar-brand" th:href="@{/}">Home</a>
  </li>
  <li sec:authorize="isAuthenticated()"><a class="navbar-brand" th:href="@{/logout}">Logout</a></li>
</ul>
</nav> <br>
<div class="container my-2">
<h3> Coupons List</h3>
<hr>
	<table class="table table-striped">
		<thead>
			<tr>
				<th>USN</th>
				<th>Start Date</th>
				<th>Number of Days</th>
				<th>Cost</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="coupons : ${listCoupons}">
				<td th:text="${coupons.usn}"></td>
				<td th:text="${coupons.startDate}"></td>
				<td th:text="${coupons.days}"></td>
				<td th:text="${coupons.price}"></td>
				
				<td> <!--<a th:href="@{/sendMessage/{id}(id=${coupons.id})}" class="btn btn-primary btn-sm mb-3">Send Coupon</a> --> <a th:href="@{/deleteCoupon/{id}(id=${coupons.id})}" class="btn btn-danger btn-sm mb-3">Delete</a></td>
			</tr>
		</tbody>
	</table>
	<a th:href = "@{/showNewCouponForm}" class="btn btn-primary btn-sm mb-3"> Add New Coupon</a>
</div>
</body>
</html>
